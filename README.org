# -*- coding: utf-8; -*-

 *å¤§éƒ¨åˆ†æºç ç”± ChatGPT-4 æ¨¡å‹ç”Ÿæˆ*, [[file:./dict-line.org][æé—®è¿‡ç¨‹]]

* æ¦‚è¿°
 Emacs æŸ¥çœ‹å­—å…¸ç¿»è¯‘å†…å®¹, å¹¶è‡ªåŠ¨æ’­æ”¾å­—å…¸éŸ³é¢‘æ–‡ä»¶(å¯é€‰).

* Preview
 *Messages*
[[./preview.png]]
 *Posframe*
[[./preview.gif]]

* æ”¯æŒçš„å­—å…¸åˆ—è¡¨
- ä¸‹è½½å­—å…¸: [[https://github.com/program-in-chinese/vscode_english_chinese_dictionary/tree/master/src/%E8%AF%8D%E5%85%B8%E6%95%B0%E6%8D%AE][vscode_english_chinese_dictionary/src/è¯å…¸æ•°æ® at master Â· program-in-chinese/vsc...]]

* é…ç½®ç¤ºä¾‹
#+begin_src emacs-lisp :tangle yes
(use-package dict-line
  :diminish
  (dict-line-mode "ğŸ—ºï¸")
  :ensure nil
  :load-path "path-to-your/dict-line"
  :defer 2
  :custom
  ;; (dict-line-audio t);; è‡ªåŠ¨æ’­æ”¾éŸ³é¢‘
  ;; (dict-line-audio-root-dir "~/your/pronunciations/");; éŸ³é¢‘ç›®å½•
  (dict-line-dict-directory "~/your/dict/");; å­—å…¸æ–‡ä»¶ç›®å½•
  (dict-line-dict-personal-file "~/your/dict/Mydict.ts");; æ‰‹åŠ¨æ·»åŠ å­—å…¸æ–‡ä»¶, M-x dict-line-word-save-from-echo
  ;; æ˜¾ç¤ºæ–¹å¼
  (dict-line-display #'dict-line--posframe);; æ˜¾ç¤ºä¾èµ– posframe.el
  ;; æˆ–è€…ä½¿ç”¨ message æ˜¾ç¤º
  ;; (dict-line-display #'dict-line--message)
  ;; æˆ–è€…è‡ªå®šä¹‰æ˜¾ç¤ºæ–¹å¼, å­—å…¸å†…å®¹ç»“æœå˜é‡: dict-line-word, dict-line-dict
  :config
  (dict-line-mode t)
  )
#+end_src

*** æ’­æ”¾å•è¯éŸ³é¢‘æ–‡ä»¶
æ’­æ”¾éŸ³é¢‘å¤–éƒ¨ä¾èµ–ç¨‹åº: [[http://www.mplayerhq.hu/design7/dload.html][MPlayer - The Movie Player]]

éŸ³é¢‘æ–‡ä»¶: [[https://github.com/yousefvand/pronunciations/tree/809cc0ca4d6ac4dbf0519e1caa40e581d41c2df3][GitHub - yousefvand/pronunciations at 809cc0ca4d6ac4dbf0519e1caa40e581d41c2df3]]
#+begin_src emacs-lisp :tangle yes
(setq dict-line-audio-root-dir "path-to/dict/audio")
(setq dict-line-audio t)
#+end_src

* å‚æ•°
- dict-line-dict-directory
  å­—å…¸æ–‡ä»¶ç›®å½•, å¿…é¡»çš„
- dict-line-idle-time
  å…‰æ ‡ç©ºé—²å¤šé•¿å¼€å§‹æŸ¥æ‰¾å•è¯,
  é»˜è®¤: 0.5 ç§’
- dict-line-audio
  æ’­æ”¾å•è¯éŸ³é¢‘æ–‡ä»¶ t/nil
- dict-line-audio-root-dir
  éŸ³é¢‘æ–‡ä»¶å¤¹
- dict-line-audio-program
  éŸ³é¢‘æ–‡ä»¶æ’­æ”¾åç«¯ç¨‹åº, é»˜è®¤: mplayer
- dict-line-audio-play-program-arg
  éŸ³é¢‘æ’­æ”¾åç«¯ç¨‹åºå‚æ•°
- dict-line-display
  æ˜¾ç¤ºå­—å…¸å†…å®¹è¢«è°ƒç”¨å˜é‡.
- dict-line-posframe-location
  ä½¿ç”¨ posframe æ˜¾ç¤ºå­—å…¸å†…å®¹çš„ä½ç½®.

* TODO [2/5]
- [X] å¼‚æ­¥
- [ ] æ”¯æŒæ›´å¤š Dict ç±»å‹
- [ ] å¤–éƒ¨ç´¢å¼•, ä¾‹å¦‚: ripgre, grep ç­‰ç­‰
- [X] æ”¯æŒæ›´å¤šæ˜¾ç¤ºæ–¹å¼, ä¾‹å¦‚: posframe, popup, overlay
- [ ] æ”¯æŒæ›´å¤šåç«¯, ä¾‹å¦‚: sdcv

* åè®°
è§£æé€Ÿåº¦è›®ä¸é”™çš„, æ„Ÿè§‰ä¸åˆ°å¡é¡¿.

* è´¡çŒ®
æ¬¢è¿ PR.

Welcome Pull request.

* ChangLog
** V0.6
æ–°å¢åŠŸèƒ½: æ”¯æŒå®šä¹‰ posframe æ˜¾ç¤ºæ–¹å¼.
** V0.5
ä¿®å¤ async.el å¼•èµ·çš„é”™è¯¯ buffer ç”Ÿæˆ \*emacs:error\*
** V0.4
é‡æ„, æ”¯æŒå¼‚æ­¥.
** V0.03
æ·»åŠ  éŸ³é¢‘ æ–‡ä»¶ è‡ªåŠ¨æ’­æ”¾ æ”¯æŒ
** V0.02
ä¿®å¤å¼€å¯ dict-line-mode å¯¼è‡´ modeline æ˜¾ç¤º *invalid* é”™è¯¯
** V0.01 å‘å¸ƒ
